# -*- coding: utf-8 -*-
# Sort a regex in reverse order by length.

import ast
import sys

# import adlamToLatin

adlam_to_latin_map = {
    "ðž¤€": "A",
    "ðž¤¢": "a",
    "ðž¤€ðž¥„": "AA",
    "ðž¤€ðž¥„": "Aa",
    "ðž¤¢ðž¥„": "aa",
    "ðž¤„": "B",
    "ðž¤¦": "b",
    "ðž¤„ðž¥†": "BB",
    "ðž¤„ðž¥†": "Bb",
    "ðž¤¦ðž¥†": "bb",
    "ðž¤‡": "Æ",
    "ðž¤©": "É“",
    "ðž¤‡ðž¥†": "ÆÆ",
    "ðž¤‡ðž¥†": "ÆÉ“",
    "ðž¤©ðž¥†": "É“É“",
    "ðž¤‡": "BH",
    "ðž¤‡": "Bh",
    "ðž¤‡ðž¥†": "BBH",
    "ðž¤‡ðž¥†": "Bbh",
    "ðž¤©": "bh",
    "ðž¤©ðž¥†": "bbh",
    "ðž¤•": "C",
    "ðž¤·": "c",
    "ðž¤•ðž¥†": "CC",
    "ðž¤•ðž¥†": "Cc",
    "ðž¤·ðž¥†": "cc",
    "ðž¤": "D",
    "ðž¤£": "d",
    "ðž¤ðž¥†": "DD",
    "ðž¤ðž¥†": "Dd",
    "ðž¤£ðž¥†": "dd",
    "ðž¤": "Â ÆŠ",
    "ðž¤¯": "É—",
    "ðž¤ðž¥†": "Â ÆŠÆŠ",
    "ðž¤ðž¥†": "Â ÆŠÉ—",
    "ðž¤¯ðž¥†": "É—É—",
    "ðž¤": "DH",
    "ðž¤¯": "dh",
    "ðž¤ðž¥†": "DDH",
    "ðž¤ðž¥†": "Ddh",
    "ðž¤¯ðž¥†": "ddh",
    "ðž¤‰": "E",
    "ðž¤«": "e",
    "ðž¤‰ðž¥…": "EE",
    "ðž¤‰ðž¥…": "Ee",
    "ðž¤«ðž¥…": "ee",
    "ðž¤Š": "F",
    "ðž¤¬": "f",
    "ðž¤Šðž¥†": "FF",
    "ðž¤Šðž¥†": "Ff",
    "ðž¤¬ðž¥†": "ff",
    "ðž¤˜": "G",
    "ðž¤º": "g",
    "ðž¤˜ðž¥†": "GG",
    "ðž¤˜ðž¥†": "Gg",
    "ðž¤ºðž¥†": "gg",
    "ðž¤ž": "GB",
    "ðž¥€": "gb",
    "ðž¤žðž¥†": "GGB",
    "ðž¤žðž¥†": "Ggb",
    "ðž¥€ðž¥†": "ggb",
    "ðž¤–": "H",
    "ðž¤¸": "h",
    "ðž¤–ðž¥†": "HH",
    "ðž¤–ðž¥†": "Hh",
    "ðž¤¸ðž¥†": "hh",
    "ðž¤‹": "I",
    "ðž¤­": "i",
    "ðž¤‹ðž¥…": "II",
    "ðž¤‹ðž¥…": "Ii",
    "ðž¤­ðž¥…": "ii",
    "ðž¤”": "J",
    "ðž¤¶": "j",
    "ðž¤”ðž¥†": "JJ",
    "ðž¤”ðž¥†": "Jj",
    "ðž¤¶ðž¥†": "jj",
    "ðž¤‘": "K",
    "ðž¤³": "k",
    "ðž¤‘ðž¥†": "KK",
    "ðž¤‘ðž¥†": "Kk",
    "ðž¤³ðž¥†": "kk",
    "ðž¤": "KH",
    "ðž¤¿": "kh",
    "ðž¤ðž¥†": "KKH",
    "ðž¤ðž¥†": "Kkh",
    "ðž¤¿ðž¥†": "kkh",
    "ðž¤": "X",
    "ðž¤¿": "x",
    "ðž¤ðž¥†": "XX",
    "ðž¤ðž¥†": "Xx",
    "ðž¤¿ðž¥†": "xx",
    "ðž¤‚": "L",
    "ðž¤¤": "l",
    "ðž¤‚ðž¥†": "LL",
    "ðž¤‚ðž¥†": "Ll",
    "ðž¤¤ðž¥†": "ll",
    "ðž¤ƒ": "M",
    "ðž¤¥": "m",
    "ðž¤ƒðž¥†": "MM",
    "ðž¤ƒðž¥†": "Mm",
    "ðž¤¥ðž¥†": "mm",
    "ðž¤": "N",
    "ðž¤²": "n",
    "ðž¤ðž¥†": "NN",
    "ðž¤ðž¥†": "Nn",
    "ðž¤²ðž¥†": "nn",
    "ðž¤›": "ÅŠ",
    "ðž¤½": "Å‹",
    "ðž¤›ðž¥†": "ÅŠÅŠ",
    "ðž¤›ðž¥†": "ÅŠÅ‹",
    "ðž¤½ðž¥†": "Å‹Å‹",
    "ðž¤›": "NH",
    "ðž¤½": "nh",
    "ðž¤›ðž¥†": "NNH",
    "ðž¤›ðž¥†": "Nnh",
    "ðž¤½ðž¥†": "nnh",
    "ðž¤™": "Ã‘",
    "ðž¤»": "Ã±",
    "ðž¤™ðž¥†": "Ã‘Ã‘",
    "ðž¤™ðž¥†": "Ã‘Ã±",
    "ðž¤»ðž¥†": "Ã±Ã±",
    "ðž¤™": "NY",
    "ðž¤»": "ny",
    "ðž¤™ðž¥†": "NNY",
    "ðž¤™ðž¥†": "Nny",
    "ðž¤»ðž¥†": "nny",
    "ðž¤Œ": "O",
    "ðž¤®": "o",
    "ðž¤Œðž¥…": "OO",
    "ðž¤Œðž¥…": "Oo",
    "ðž¤®ðž¥…": "oo",
    "ðž¤†": "P",
    "ðž¤¨": "p",
    "ðž¤†ðž¥†": "PP",
    "ðž¤†ðž¥†": "Pp",
    "ðž¤¨ðž¥†": "pp",
    "ðž¤ ": "KP",
    "ðž¥‚": "kp",
    "ðž¤ ðž¥†": "KKP",
    "ðž¤ ðž¥†": "Kkp",
    "ðž¥‚ðž¥†": "kkp",
    "ðž¤—": "Q",
    "ðž¤¹": "q",
    "ðž¤—ðž¥†": "QQ",
    "ðž¤—ðž¥†": "Qq",
    "ðž¤¹ðž¥†": "qq",
    "ðž¤—": "GH",
    "ðž¤¹": "gh",
    "ðž¤—ðž¥†": "GGH",
    "ðž¤—ðž¥†": "Ggh",
    "ðž¤¹ðž¥†": "ggh",
    "ðž¤ˆ": "R",
    "ðž¤ª": "r",
    "ðž¤ˆðž¥†": "RR",
    "ðž¤ˆðž¥†": "Rr",
    "ðž¤ªðž¥†": "rr",
    "ðž¤…": "S",
    "ðž¤§": "s",
    "ðž¤…ðž¥†": "SS",
    "ðž¤…ðž¥†": "Ss",
    "ðž¤§ðž¥†": "ss",
    "ðž¤¡": "SH",
    "ðž¥ƒ": "Sh",
    "ðž¤¡ðž¥†": "SSH",
    "ðž¤¡ðž¥†": "Ssh",
    "ðž¥ƒðž¥†": "ssh",
    "ðž¤š": "T",
    "ðž¤¼": "t",
    "ðž¤šðž¥†": "TT",
    "ðž¤šðž¥†": "Tt",
    "ðž¤¼ðž¥†": "tt",
    "ðž¤“": "U",
    "ðž¤µ": "u",
    "ðž¤“ðž¥…": "UU",
    "ðž¤“ðž¥…": "Uu",
    "ðž¤µðž¥…": "uu",
    "ðž¤œ": "V",
    "ðž¤¾": "v",
    "ðž¤œðž¥†": "VV",
    "ðž¤œðž¥†": "Vv",
    "ðž¤¾ðž¥†": "vv",
    "ðž¤": "W",
    "ðž¤±": "w",
    "ðž¤ðž¥†": "WW",
    "ðž¤ðž¥†": "Ww",
    "ðž¤±ðž¥†": "ww",
    "ðž¤’": "Y",
    "ðž¤´": "y",
    "ðž¤’ðž¥†": "YY",
    "ðž¤’ðž¥†": "Yy",
    "ðž¤´ðž¥†": "yy",
    "ðž¤Ž": "Æ³",
    "ðž¤°": "Æ´",
    "ðž¤Žðž¥†": "Æ³Æ³",
    "ðž¤Žðž¥†": "Æ³Æ´",
    "ðž¤°ðž¥†": "Æ´Æ´",
    "ðž¤Ž": "YH",
    "ðž¤°": "yh",
    "ðž¤Žðž¥†": "YYH",
    "ðž¤Žðž¥†": "Yyh",
    "ðž¤°ðž¥†": "yyh",
    "ðž¤Ÿ": "Z",
    "ðž¥": "z",
    "ðž¤Ÿðž¥†": "ZZ",
    "ðž¤Ÿðž¥†": "Zz",
    "ðž¥ðž¥†": "zz",
    ðž¤'"ðž¤": "ND",
    ðž¤'"ðž¤": "Nd",
    "ðž¤²": "ðž¤£	nd",
    ðž¤'"ðž¤„": "MB",
    "ðž¤": "ðž¤„	Mb",
    ðž¤²'"ðž¤¦": "mb",
    "ðž¤": "ðž¤”	NJ",
    ðž¤'"ðž¤”": "Nj",
    ðž¤'"ðž¤˜": "NG",
    "ðž¤": "ðž¤˜	Ng",
    "ðž¤²": "ðž¤º	ng",
    ðž¤²"ðž¤£": "nnd",
    ðž¤¥"ðž¤¦": "mmb",
    ðž¤²"ðž¤¶": "nnj",
    ðž¤²"ðž¤º": "nng    ",
    # TODO: digits and punctuation
'ðž¤€ðž¤ðž¤‚ðž¤¢ðž¤ƒ':	'Laten',
'ðž¤€ðž¥„ðž¤ðž¤':	'AAND',
'ðž¤€ðž¥„ðž¤²ðž¤£':	'Aand',
'ðž¤¢ðž¥„ðž¤²ðž¤£':	'aand',
'ðž¤€ðž¥„ðž¤ðž¤„':	'AAMB',
'ðž¤€ðž¥„ðž¤²ðž¤¦':	'Aamb',
'ðž¤¢ðž¥„ðž¤²ðž¤¦':	'aamb',
'ðž¤€ðž¥„ðž¤ðž¤”':	'AANJ',
'ðž¤€ðž¥„ðž¤²ðž¤¶':	'Aanj',
'ðž¤¢ðž¥„ðž¤²ðž¤¶':	'aanj',
'ðž¤€ðž¥„ðž¤ðž¤˜':	'AANG',
'ðž¤€ðž¥„ðž¤²ðž¤º':	'Aang',
'ðž¤¢ðž¥„ðž¤²ðž¤º':	'aang',
'ðž¤‰ðž¥…ðž¤ðž¤':	'EEND',
'ðž¤‰ðž¥…ðž¤²ðž¤£':	'Eend',
'ðž¤«ðž¥…ðž¤²ðž¤£':	'eend',
'ðž¤‰ðž¥…ðž¤ðž¤„':	'EEMB',
'ðž¤‰ðž¥…ðž¤²ðž¤¦':	'Eemb',
'ðž¤«ðž¥…ðž¤²ðž¤¦':	'eemb',
'ðž¤‰ðž¥…ðž¤ðž¤”':	'EENJ',
'ðž¤‰ðž¥…ðž¤²ðž¤¶':	'Eenj',
'ðž¤«ðž¥…ðž¤²ðž¤¶':	'eenj',
'ðž¤‰ðž¥…ðž¤ðž¤˜':	'EENG',
'ðž¤‰ðž¥…ðž¤²ðž¤º':	'Eeng',
'ðž¤«ðž¥…ðž¤²ðž¤º':	'eeng',
'ðž¤‹ðž¥…ðž¤ðž¤':	'IIND',
'ðž¤‹ðž¥…ðž¤²ðž¤£':	'Iind',
'ðž¤­ðž¥…ðž¤²ðž¤£':	'iind',
'ðž¤‹ðž¥…ðž¤ðž¤„':	'IIMB',
'ðž¤‹ðž¥…ðž¤²ðž¤¦':	'Iimb',
'ðž¤­ðž¥…ðž¤²ðž¤¦':	'iimb',
'ðž¤‹ðž¥…ðž¤ðž¤”':	'IINJ',
'ðž¤‹ðž¥…ðž¤²ðž¤¶':	'Iinj',
'ðž¤­ðž¥…ðž¤²ðž¤¶':	'iinj',
'ðž¤‹ðž¥…ðž¤ðž¤˜':	'IING',
'ðž¤‹ðž¥…ðž¤²ðž¤º':	'Iing',
'ðž¤­ðž¥…ðž¤²ðž¤º':	'iing',
'ðž¤Œðž¥…ðž¤ðž¤':	'OOND',
'ðž¤Œðž¥…ðž¤²ðž¤£':	'Oond',
'ðž¤®ðž¥…ðž¤²ðž¤£':	'oond',
'ðž¤Œðž¥…ðž¤ðž¤„':	'OOMB',
'ðž¤Œðž¥…ðž¤²ðž¤¦':	'Oomb',
'ðž¤®ðž¥…ðž¤²ðž¤¦':	'oomb',
'ðž¤Œðž¥…ðž¤ðž¤”':	'OONJ',
'ðž¤Œðž¥…ðž¤²ðž¤¶':	'Oonj',
'ðž¤®ðž¥…ðž¤²ðž¤¶':	'oonj',
'ðž¤Œðž¥…ðž¤ðž¤˜':	'OONG',
'ðž¤Œðž¥…ðž¤²ðž¤º':	'Oong',
'ðž¤®ðž¥…ðž¤²ðž¤º':	'oong',
'ðž¤“ðž¥…ðž¤ðž¤':	'UUND',
'ðž¤“ðž¥…ðž¤²ðž¤£':	'Uund',
'ðž¤µðž¥…ðž¤²ðž¤£':	'uund',
'ðž¤“ðž¥…ðž¤ðž¤„':	'UUMB',
ðž¤“ðž¥…'ðž¤²ðž¤¦':	'Uumb',
'ðž¤µðž¥…ðž¤²ðž¤¦':	'uumb',
'ðž¤“ðž¥…ðž¤ðž¤”':	'UUNJ',
'ðž¤“ðž¥…ðž¤²ðž¤¶':	'Uunj',
'ðž¤µðž¥…ðž¤²ðž¤¶':	'uunj',
'ðž¤“ðž¥…ðž¤ðž¤˜':	'UUNG',
'ðž¤“ðž¥…ðž¤²ðž¤º':	'Uung',
'ðž¤µðž¥…ðž¤²ðž¤º':	'uung',
'ðž¤ðž¤':	'ND',
'ðž¤ðž¤£':	'Nd',
'ðž¤²ðž¤£':	'nd',
'ðž¤ðž¤„':	'MB',
'ðž¤ðž¤¦':	'Mb',
'ðž¤²ðž¤¦':	'mb',
'ðž¤ðž¤”':	'NJ',
'ðž¤ðž¤¶':	'Nj',
'ðž¤²ðž¤¶':	'nj',
'ðž¤ðž¤˜':	'NG',
'ðž¤ðž¤º':	'Ng',
'ðž¤²ðž¤º':	'ng',
'ðž¤¢ðž¤¢':	'a\'a',
'ðž¤«ðž¤«':	'e\'e',
'ðž¤­ðž¤­':	'i\'i',
'ðž¤®ðž¤®':	'o\'o',
'ðž¤µðž¤µ':	'u\'u',
'ðž¤€ðž¤€':	'A\'a',
'ðž¤‰ðž¤‰':	'E\'e',
'ðž¤‹ðž¤‹':	'I\'i',
'ðž¤Œðž¤Œ':	'O\'o',
'ðž¤“ðž¤“':	'U\'u',
'ðž¤€ðž¤€':	'A\'A',
'ðž¤‰ðž¤‰':	'E\'E',
'ðž¤‹ðž¤‹':	'I\'I',
'ðž¤Œðž¤Œ':	'O\'O',
'ðž¤“ðž¤“':	'U\'U',

'ðž¥      ': '0',
'ðž¥‘      ': '1',
'ðž¥’      ': '2',
'ðž¥“      ': '3',
'ðž¥”      ': '4',
'ðž¥•      ': '5',
'ðž¥–      ': '6',
'ðž¥—      ': '7',
'ðž¥˜      ': '8',
'ðž¥™      ': '9',
'!      ': '!',

'ðž¥ž      ': '!',
'?      ': '?',
'ðž¥Ÿ      ': '?',
'â¹      ': ',',
'â      ': ';',
'.	.  ': ' '
}

class keyboard_data ():
    def __init__(self, filename):
        file = open(filename, mode='r', encoding='utf-8')
        self.raw_data = file.readlines()

        #print('KB = %s' % self.raw_data)
        return

    def fields(self):
        # Find the LAYOUT = line
        start_line_num = -1
        last_brace_line = -1
        line_num = 0
        for line in self.raw_data:
            layout_pos = line.find('LAYOUT = {')

            if layout_pos >= 0 and start_line_num < 0:
                start_line_num = line_num
                # Got the line for start of the data
                print('LAYOUT_POS = %s %s' % (layout_pos, line))

            close_brace_pos = line.find('}')
            if close_brace_pos >= 0:
                # Got the line for start of the data
#                print('LAYOUT_POS = %s %s' % (close_brace_pos, line))
                last_brace_line = line_num

            line_num += 1

        print('start: %s' % (self.raw_data[start_line_num]))
        print('last:  %s' % (self.raw_data[last_brace_line]))

        # TODO: Start with a single '{'
        these_lines = ['{', ' '.join(self.raw_data[start_line_num+1:
                                                   last_brace_line + 1]).replace("\\", "")]
        print('these_lines = %s' % ' '.join(these_lines))

        try:
            self.data_dict = ast.literal_eval(these_lines)
            print(self.data_dict['title'])
        except BaseException as err:
            print('Error = %s' % err)
            
    def getTransforms(self):
        
        return

    
input_rules = {
        'p.':   '\ue001',
        'pi.':  '\ue000',
        'w.':   '\ue010',
        'wi.':  '\ue00f',
        'wii.': '\ue01f',
        'mb.':  '\ue025',
        'mbi.': '\ue026',
        'b.':   '\ue03b',
        'bi.':  '\ue03c',    
        'kp.':  '\ue049',
        'gb.':  '\ue056',
        'f.':   '\ue061',
        'v.':   '\ue06c',
        't.':   '\ue079',
        'ti.':  '\ue07a',
        'l.':   '\ue088',
        'li.':  '\ue087',
        'lii.': '\ue086',
        'nd.':  '\ue09a',
        'ndi.': '\ue09b',
        'd.':   '\ue0a9',
        'di.':  '\ue0aa',
        's.':   '\ue0b5',
        'si.':  '\ue0b4',
        'j.':   '\ue0c2',
        'ji.':  '\ue0c3',
        'y.':   '\ue0da',
        'ng.':  '\ue0e6',
        'ngi.': '\ue0e7',
        'g.':   '\ue0f6',
        'gi.':  '\ue0f7',
        'k.':   '\ue019',
        'ki.':  '\ue10a',
        'h.':   '\ue117',
        'hi.':  '\ue134',
        'hii.': '\ue135',
        'm.':   '\ue140',
        'n.':   '\ue149',
        'ny.':  '\ue150',
        'iii.': '\ue15e',
        'ii.':  '\ue15d',
        'i.':  '\ue127',
        'I.':   '\ue15f',
        'aa.': '\ue129',
        'a.':  '\ue128',
        'ee.': '\ue12c',
        'e.':  '\ue12d',
        'uu.': '\ue12b',
        'u.':  '\ue12a',
        'rr.': '\ue12f',
        'r.':  '\ue12e',
        'cc.': '\ue131',
        'c.':  '\ue130',
        'o.':  '\ue132'
    }

adlamNasalizationMark = u'\U0001E94B'
adlamInitialExclamationMark = u'\U0001E95E'
adlamInitialQuestionMark = u'\U0001E95F'
reverseQuestionMark = u'\ue2e2'
# adlam_latin_map = {
#     ' ': u' ',
#     'A': u'ðž¤€',
#     'a': u'ðž¤¢',
#     'AA': u'ðž¤€ðž¥„',
#     'Aa': u'ðž¤€ðž¥„',
#     'aa': u'ðž¤¢ðž¥„',
#     'B': u'ðž¤„',
#     'b': u'ðž¤¦',
#     'BB': u'ðž¤„ðž¥†',
#     'Bb': u'ðž¤„ðž¥†',
#     'bb': u'ðž¤¦ðž¥†',
#     'Æ': u'ðž¤‡',
#     'É“': u'ðž¤©',
#     'ÆÆ': u'ðž¤‡ðž¥†',
#     'ÆÉ“': u'ðž¤‡ðž¥†',
#     'É“Æ': u'ðž¤©ðž¥†',
#     'É“É“': u'ðž¤©ðž¥†',
#     'BH': u'ðž¤‡',
#     'Bh': u'ðž¤‡',
#     'BBH': u'ðž¤‡ðž¥†',
#     'Bbh': u'ðž¤‡ðž¥†',
#     'bh': u'ðž¤©',
#     'bbh': u'ðž¤©ðž¥†',
#     'C': u'ðž¤•',
#     'c': u'ðž¤·',
#     'CC': u'ðž¤•ðž¥†',
#     'Cc': u'ðž¤•ðž¥†',
#     'cc': u'ðž¤·ðž¥†',
#     'D': u'ðž¤',
#     'd': u'ðž¤£',
#     'DD': u'ðž¤ðž¥†',
#     'Dd': u'ðž¤ðž¥†',
#     'dd': u'ðž¤£ðž¥†',
#     'ÆŠ': u'ðž¤',
#     'É—': u'ðž¤¯',
#     'ÆŠÆŠ': u'ðž¤ðž¥†',
#     'ÆŠÉ—': u'ðž¤ðž¥†',
#     'É—É—': u'ðž¤¯ðž¥†',
#     'DH': u'ðž¤',
#     'Dh': u'ðž¤',
#     'dH': u'ðž¤¯',
#     'dh': u'ðž¤¯',
#     'DDH': u'ðž¤ðž¥†',
#     'Ddh': u'ðž¤ðž¥†',
#     'ddh': u'ðž¤¯ðž¥†',
#     'E': u'ðž¤‰',
#     'e': u'ðž¤«',
#     'EE': u'ðž¤‰ðž¥…',
#     'Ee': u'ðž¤‰ðž¥…',
#     'ee': u'ðž¤«ðž¥…',
#     'F': u'ðž¤Š',
#     'f': u'ðž¤¬',
#     'FF': u'ðž¤Šðž¥†',
#     'Ff': u'ðž¤Šðž¥†',
#     'ff': u'ðž¤¬ðž¥†',
#     'G': u'ðž¤˜',
#     'g': u'ðž¤º',
#     'GG': u'ðž¤˜ðž¥†',
#     'Gg': u'ðž¤˜ðž¥†',
#     'gg': u'ðž¤ºðž¥†',
#     'GB': u'ðž¤ž',
#     'gb': u'ðž¥€',
#     'GGB': u'ðž¤žðž¥†',
#     'Ggb': u'ðž¤žðž¥†',
#     'ggb': u'ðž¥€ðž¥†',
#     'H': u'ðž¤–',
#     'h': u'ðž¤¸',
#     'HH': u'ðž¤–ðž¥†',
#     'Hh': u'ðž¤–ðž¥†',
#     'hh': u'ðž¤¸ðž¥†',
#     'I': u'ðž¤‹',
#     'i': u'ðž¤­',
#     'II': u'ðž¤‹ðž¥…',
#     'Ii': u'ðž¤‹ðž¥…',
#     'ii': u'ðž¤­ðž¥…',
#     'J': u'ðž¤”',
#     'j': u'ðž¤¶',
#     'JJ': u'ðž¤”ðž¥†',
#     'Jj': u'ðž¤”ðž¥†',
#     'jj': u'ðž¤¶ðž¥†',
#     'K': u'ðž¤‘',
#     'k': u'ðž¤³',
#     'KK': u'ðž¤‘ðž¥†',
#     'Kk': u'ðž¤‘ðž¥†',
#     'kk': u'ðž¤³ðž¥†',
#     'KH': u'ðž¤',
#     'kh': u'ðž¤¿',
#     'KKH': u'ðž¤ðž¥†',
#     'Kkh': u'ðž¤ðž¥†',
#     'kkh': u'ðž¤¿ðž¥†',
#     'X': u'ðž¤',
#     'x': u'ðž¤¿',
#     'XX': u'ðž¤ðž¥†',
#     'Xx': u'ðž¤ðž¥†',
#     'xx': u'ðž¤¿ðž¥†',
#     'L': u'ðž¤‚',
#     'l': u'ðž¤¤',
#     'LL': u'ðž¤‚ðž¥†',
#     'Ll': u'ðž¤‚ðž¥†',
#     'll': u'ðž¤¤ðž¥†',
#     'M': u'ðž¤ƒ',
#     'm': u'ðž¤¥',
#     'MM': u'ðž¤ƒðž¥†',
#     'Mm': u'ðž¤ƒðž¥†',
#     'mm': u'ðž¤¥ðž¥†',
#     'N': u'ðž¤',
#     'n': u'ðž¤²',
#     'NN': u'ðž¤ðž¥†',
#     'Nn': u'ðž¤ðž¥†',
#     'nn': u'ðž¤²ðž¥†',
#     'ÅŠ': u'ðž¤›',
#     'Å‹': u'ðž¤½',
#     'ÅŠÅŠ': u'ðž¤›ðž¥†',
#     'ÅŠÅ‹': u'ðž¤›ðž¥†',
#     'Å‹Å‹': u'ðž¤½ðž¥†',
#     'NH': u'ðž¤›',
#     'Nh': u'ðž¤›',
#     'nH': u'ðž¤½',
#     'nh': u'ðž¤½',
#     'NNH': u'ðž¤›ðž¥†',
#     'Nnh': u'ðž¤›ðž¥†',
#     'nnh': u'ðž¤½ðž¥†',
#     'Ã‘': u'ðž¤™',
#     'Ã±': u'ðž¤»',
#     'Ã‘Ã‘': u'ðž¤™ðž¥†',
#     'Ã‘Ã±': u'ðž¤™ðž¥†',
#     'Ã±Ã±': u'ðž¤»ðž¥†',
#     'NY': u'ðž¤™',
#     'ny': u'ðž¤»',
#     'NNY': u'ðž¤™ðž¥†',
#     'Nny': u'ðž¤™ðž¥†',
#     'nny': u'ðž¤»ðž¥†',
#     'O': u'ðž¤Œ',
#     'o': u'ðž¤®',
#     'OO': u'ðž¤Œðž¥…',
#     'Oo': u'ðž¤Œðž¥…',
#     'oo': u'ðž¤®ðž¥…',
#     'P': u'ðž¤†',
#     'p': u'ðž¤¨',
#     'PP': u'ðž¤†ðž¥†',
#     'Pp': u'ðž¤†ðž¥†',
#     'pp': u'ðž¤¨ðž¥†',
#     'KP': u'ðž¤ ',
#     'kp': u'ðž¥‚',
#     'KKP': u'ðž¤ ðž¥†',
#     'Kkp': u'ðž¤ ðž¥†',
#     'kkp': u'ðž¥‚ðž¥†',
#     'Q': u'ðž¤—',
#     'q': u'ðž¤¹',
#     'QQ': u'ðž¤—ðž¥†',
#     'Qq': u'ðž¤—ðž¥†',
#     'qq': u'ðž¤¹ðž¥†',
#     'GH': u'ðž¤—',
#     'gh': u'ðž¤¹',
#     'GGH': u'ðž¤—ðž¥†',
#     'Ggh': u'ðž¤—ðž¥†',
#     'ggh': u'ðž¤¹ðž¥†',
#     'R': u'ðž¤ˆ',
#     'r': u'ðž¤ª',
#     'RR': u'ðž¤ˆðž¥†',
#     'Rr': u'ðž¤ˆðž¥†',
#     'rr': u'ðž¤ªðž¥†',
#     'S': u'ðž¤…',
#     's': u'ðž¤§',
#     'SS': u'ðž¤…ðž¥†',
#     'Ss': u'ðž¤…ðž¥†',
#     'ss': u'ðž¤§ðž¥†',
#     'SH': u'ðž¤¡',
#     'Sh': u'ðž¤¡',
#     'sh': u'ðž¥ƒ',
#     'sH': u'ðž¥ƒ',
#     'SSH': u'ðž¤¡ðž¥†',
#     'Ssh': u'ðž¤¡ðž¥†',
#     'ssh': u'ðž¥ƒðž¥†',
#     'T': u'ðž¤š',
#     't': u'ðž¤¼',
#     'TT': u'ðž¤šðž¥†',
#     'Tt': u'ðž¤šðž¥†',
#     'tt': u'ðž¤¼ðž¥†',
#     'U': u'ðž¤“',
#     'u': u'ðž¤µ',
#     'UU': u'ðž¤“ðž¥…',
#     'Uu': u'ðž¤“ðž¥…',
#     'uu': u'ðž¤µðž¥…',
#     'V': u'ðž¤œ',
#     'v': u'ðž¤¾',
#     'VV': u'ðž¤œðž¥†',
#     'Vv': u'ðž¤œðž¥†',
#     'vv': u'ðž¤¾ðž¥†',
#     'W': u'ðž¤',
#     'w': u'ðž¤±',
#     'WW': u'ðž¤ðž¥†',
#     'Ww': u'ðž¤ðž¥†',
#     'ww': u'ðž¤±ðž¥†',
#     'Y': u'ðž¤’',
#     'y': u'ðž¤´',
#     'YY': u'ðž¤’ðž¥†',
#     'Yy': u'ðž¤’ðž¥†',
#     'yy': u'ðž¤´ðž¥†',
#     'Æ³': u'ðž¤Ž',
#     'Æ´': u'ðž¤°',
#     'Æ³Æ³': u'ðž¤Žðž¥†',
#     'Æ³Æ´': u'ðž¤Žðž¥†',
#     'Æ´Æ´': u'ðž¤°ðž¥†',
#     'YH': u'ðž¤Ž',
#     'yh': u'ðž¤°',
#     'YYH': u'ðž¤Žðž¥†',
#     'Yyh': u'ðž¤Žðž¥†',
#     'yyh': u'ðž¤°ðž¥†',
#     'Z': u'ðž¤Ÿ',
#     'z': u'ðž¥',
#     'ZZ': u'ðž¤Ÿðž¥†',
#     'Zz': u'ðž¤Ÿðž¥†',
#     'zz': u'ðž¥ðž¥†',
#     'ND': "ðž¤'ðž¤",
#     'Nd': "ðž¤'ðž¤",
#     'nd': "ðž¤²'ðž¤£",
#     'MB': "ðž¤'ðž¤„",
#     'Mb': "ðž¤'ðž¤„",
#     'mb': "ðž¤²'ðž¤¦",
#     'NJ': "ðž¤'ðž¤”",
#     'Nj': "ðž¤'ðž¤”",
#     'nj': "ðž¤²'ðž¤¶",
#     'NG': "ðž¤'ðž¤˜",
#     'Ng': "ðž¤'ðž¤˜",
#     'ng': "ðž¤²'ðž¤º",
#     'nnd': u'ðž¤²ðž¤£',
#     'mmb': u'ðž¤¥ðž¤¦',
#     'nnj': u'ðž¤²ðž¤¶',
#     'nng': u'ðž¤²ðž¤º',
#     '0': u'ðž¥',
#     '1': u'ðž¥‘',
#     '2': u'ðž¥’',
#     '3': u'ðž¥“',
#     '4': u'ðž¥”',
#     '5': u'ðž¥•',
#     '6': u'ðž¥–',
#     '7': u'ðž¥—',
#     '8': u'ðž¥˜',
#     '9': u'ðž¥™',
#     '.': u'.',
#     ',': u'â¹',
#     '\u061f': reverseQuestionMark,
#     # ';': u'â'
#     #'?':  u'?',
#     #u'\u201c': u'\u201c',
#     #u'\u201d': u'\u201d',
#             ':': ':',
#     '!': '!',
#     "\u0027": adlamNasalizationMark,
# }

# rev = in_parsed.sort(key=sortRevN, reverse=True)

#print(in_parsed)

#out = '|'.join(in_parsed)
#print(out)

def sortRevN(a):
    return len(a)

def processRules(rules):
    keys = list(rules.keys())
    keys.sort(key=sortRevN, reverse=True)

    print('|'.join(keys).replace('.',''))

def main(argv):
    # TODO: get the file and open it
    if len(argv) > 1:
        kb_data = keyboard_data(argv[1])
        kb_data.fields()
    else:
        print('No filename given')

    #processRules(adlam_latin_map)
    processRules(adlam_to_latin_map)
    
    # TODO: Process rules from the keyboard
    # processRules(input_rules)
    return

if __name__ == '__main__':
    main(sys.argv)
